document.addEventListener("DOMContentLoaded",function(){let e=window.location.pathname,t="locationRedirected";function n(){let n="/baton-rouge";e!==n&&(sessionStorage.setItem(t,"true"),window.location.href=n)}function o(e,t,n,o){let l=a(n-e),r=a(o-t),i=Math.sin(l/2)*Math.sin(l/2)+Math.cos(a(e))*Math.cos(a(n))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))}function a(e){return e*(Math.PI/180)}console.log("Current path:",e),navigator.geolocation?navigator.geolocation.getCurrentPosition(function n(a){let l=a.coords.latitude,r=a.coords.longitude;console.log("User's coordinates:",l,r);let i={"baton-rouge":{name:"Baton Rouge",lat:30.4515,lon:-91.1871},zachary:{name:"Zachary",lat:30.648,lon:-91.1565},prarieville:{name:"Prarieville",lat:30.3025,lon:-90.9711},"denham-springs":{name:"Denham Springs",lat:30.4861,lon:-90.9565},gonzales:{name:"Gonzales",lat:30.2385,lon:-90.9201},central:{name:"Central",lat:30.5543,lon:-91.0364},walker:{name:"Walker",lat:30.4868,lon:-90.8612},baker:{name:"Baker",lat:30.5888,lon:-91.1685},"port-allen":{name:"Port Allen",lat:30.4524,lon:-91.2101},addis:{name:"Addis",lat:30.3549,lon:-91.2676},plaquemine:{name:"Plaquemine",lat:30.2899,lon:-91.2343},"st-amant":{name:"St. Amant",lat:30.2144,lon:-90.8533},geismar:{name:"Geismar",lat:30.2266,lon:-91.0148}},s=null,m=1/0;for(let[$,c]of Object.entries(i)){let u=o(l,r,c.lat,c.lon);u<m&&(m=u,s=$)}console.log("Nearest location:",s,"Distance:",m);let _=`/${s}`;if(console.log("Expected path based on location:",_),"true"!==sessionStorage.getItem(t)&&e!==_){let d=confirm(`It looks like you're in ${i[s].name}. Would you like to visit the ${i[s].name} page?`);d?(sessionStorage.setItem(t,"true"),window.location.href=_):sessionStorage.setItem(t,"true")}},function e(t){console.error("Geolocation error:",t.message),n()},{timeout:1e4}):(console.error("Geolocation is not supported by this browser."),n())});