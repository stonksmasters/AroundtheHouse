document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("section"),t=()=>{e.forEach(e=>{let t=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;t<.85*window.innerHeight&&i>0?e.classList.add("visible"):e.classList.remove("visible")})};window.addEventListener("scroll",t),t(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector("header").offsetHeight,i=document.querySelector(this.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:i,behavior:"smooth"}),s.classList.contains("show")&&(s.classList.remove("show"),s.classList.add("hide"))})});let i=document.getElementById("menu-toggle"),s=document.getElementById("nav-menu"),n=document.getElementById("close-menu"),a=document.querySelector("header");i.addEventListener("click",function(){s.classList.contains("show")?(s.classList.remove("show"),s.classList.add("hide")):(s.classList.remove("hide"),s.classList.add("show"),s.style.top=`${a.offsetHeight}px`)}),n.addEventListener("click",function(){s.classList.remove("show"),s.classList.add("hide")}),document.querySelectorAll(".faq-item h3").forEach(e=>{e.addEventListener("click",()=>{let t=e.parentElement;document.querySelectorAll(".faq-item").forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active")})}),document.querySelector("#contact-form").addEventListener("submit",async function(e){e.preventDefault(),grecaptcha.enterprise.ready(async function(){let t=await grecaptcha.enterprise.execute("6LeAiTEqAAAAANLE-JQ2NjzdUIzQBn95q_KU16J9",{action:"submit"}),i=await fetch("/api/recaptcha/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,action:"submit"})}),s=await i.json();s.success?(console.log("reCAPTCHA verified successfully."),e.target.submit()):(console.error("reCAPTCHA verification failed."),alert("reCAPTCHA verification failed. Please try again."))})})});